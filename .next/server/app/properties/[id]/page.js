(()=>{var e={};e.id=562,e.ids=[562],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},39491:e=>{"use strict";e.exports=require("assert")},14300:e=>{"use strict";e.exports=require("buffer")},6113:e=>{"use strict";e.exports=require("crypto")},82361:e=>{"use strict";e.exports=require("events")},13685:e=>{"use strict";e.exports=require("http")},95687:e=>{"use strict";e.exports=require("https")},63477:e=>{"use strict";e.exports=require("querystring")},57310:e=>{"use strict";e.exports=require("url")},73837:e=>{"use strict";e.exports=require("util")},59796:e=>{"use strict";e.exports=require("zlib")},89499:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>a.a,__next_app__:()=>p,originalPathname:()=>c,pages:()=>u,routeModule:()=>m,tree:()=>d}),r(12255),r(38705),r(35866);var s=r(23191),n=r(88716),i=r(37922),a=r.n(i),l=r(95231),o={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);r.d(t,o);let d=["",{children:["properties",{children:["[id]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,12255)),"C:\\Users\\newli\\Desktop\\luminav\\luminav_icheon\\luminav_realtor_real\\app\\properties\\[id]\\page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,38705)),"C:\\Users\\newli\\Desktop\\luminav\\luminav_icheon\\luminav_realtor_real\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,35866,23)),"next/dist/client/components/not-found-error"]}],u=["C:\\Users\\newli\\Desktop\\luminav\\luminav_icheon\\luminav_realtor_real\\app\\properties\\[id]\\page.tsx"],c="/properties/[id]/page",p={require:r,loadChunk:()=>Promise.resolve()},m=new s.AppPageRouteModule({definition:{kind:n.x.APP_PAGE,page:"/properties/[id]/page",pathname:"/properties/[id]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},66736:(e,t,r)=>{Promise.resolve().then(r.bind(r,79682)),Promise.resolve().then(r.bind(r,96968))},75553:(e,t,r)=>{Promise.resolve().then(r.bind(r,29970)),Promise.resolve().then(r.bind(r,9179))},14684:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,12994,23)),Promise.resolve().then(r.t.bind(r,96114,23)),Promise.resolve().then(r.t.bind(r,9727,23)),Promise.resolve().then(r.t.bind(r,79671,23)),Promise.resolve().then(r.t.bind(r,41868,23)),Promise.resolve().then(r.t.bind(r,84759,23))},79682:(e,t,r)=>{"use strict";r.d(t,{default:()=>i});var s=r(10326),n=r(77109);function i({children:e}){return s.jsx(n.SessionProvider,{children:e})}r(17577)},96968:(e,t,r)=>{"use strict";r.d(t,{default:()=>a});var s=r(10326),n=r(90434),i=r(77109);function a(){let{data:e,status:t}=(0,i.useSession)();return s.jsx("header",{className:"bg-white shadow-md",children:(0,s.jsxs)("nav",{className:"container mx-auto px-4 py-3 flex justify-between items-center",children:[s.jsx(n.default,{href:"/",className:"text-2xl font-bold text-blue-600",children:"Luminav Realtor"}),s.jsx("div",{className:"flex items-center space-x-4",children:s.jsx(n.default,{href:"/properties",className:"text-gray-600 hover:text-blue-600",children:"전체 매물"})}),s.jsx("div",{className:"flex items-center",children:"loading"===t?s.jsx("div",{className:"h-8 w-20 bg-gray-200 rounded animate-pulse"}):e?(0,s.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,s.jsxs)("span",{children:[e.user?.name||e.user?.email,"님"]}),s.jsx("button",{onClick:()=>(0,i.signOut)({callbackUrl:"/"}),className:"px-4 py-2 bg-red-500 text-white rounded-md hover:bg-red-600",children:"로그아웃"})]}):s.jsx(n.default,{href:"/login",className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:"로그인"})})]})})}},29970:(e,t,r)=>{"use strict";r.d(t,{default:()=>o});var s=r(10326),n=r(17577),i=r(77109),a=r(35047);let l=({filled:e})=>s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:e?"currentColor":"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4.318 6.318a4.5 4.5 0 016.364 0L12 7.5l1.318-1.182a4.5 4.5 0 116.364 6.364L12 21l-7.682-7.682a4.5 4.5 0 010-6.364z"})});function o({propertyId:e,isInitiallyFavorited:t}){let{data:r,status:o}=(0,i.useSession)(),d=(0,a.useRouter)(),[u,c]=(0,n.useState)(t),[p,m]=(0,n.useState)(!1),f=async()=>{if("authenticated"!==o){d.push("/login");return}m(!0),c(!u),(await fetch("/api/favorites",{method:u?"DELETE":"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({propertyId:e})})).ok||(c(u),alert("오류가 발생했습니다. 다시 시도해주세요.")),d.refresh(),m(!1)};return"loading"===o?s.jsx("div",{className:"h-12 w-full bg-gray-200 rounded-lg animate-pulse"}):"authenticated"!==o?s.jsx("button",{onClick:()=>d.push("/login"),className:"w-full h-12 mt-2 bg-blue-500 text-white rounded-lg flex items-center justify-center font-bold",children:"로그인 후 찜하기"}):(0,s.jsxs)("button",{onClick:f,disabled:p,className:`w-full h-12 mt-2 rounded-lg flex items-center justify-center font-bold transition-colors ${u?"bg-pink-500 text-white":"bg-gray-200 text-gray-800 hover:bg-gray-300"}`,children:[s.jsx(l,{filled:u}),s.jsx("span",{className:"ml-2",children:u?"찜 해제":"찜하기"})]})}},9179:(e,t,r)=>{"use strict";r.d(t,{default:()=>i});var s=r(10326),n=r(17577);function i({latitude:e,longitude:t,className:r}){let i=(0,n.useRef)(null);return s.jsx("div",{ref:i,className:r,children:!process.env.NEXT_PUBLIC_KAKAO_MAP_API_KEY&&s.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gray-200",children:s.jsx("span",{className:"text-red-500",children:"카카오 지도 API 키가 필요합니다."})})})}},35047:(e,t,r)=>{"use strict";var s=r(77389);r.o(s,"useRouter")&&r.d(t,{useRouter:function(){return s.useRouter}})},38705:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>h,metadata:()=>x});var s=r(19510),n=r(77366),i=r.n(n);r(67272);var a=r(68570);let l=(0,a.createProxy)(String.raw`C:\Users\newli\Desktop\luminav\luminav_icheon\luminav_realtor_real\components\AuthProvider.tsx`),{__esModule:o,$$typeof:d}=l;l.default;let u=(0,a.createProxy)(String.raw`C:\Users\newli\Desktop\luminav\luminav_icheon\luminav_realtor_real\components\AuthProvider.tsx#default`),c=(0,a.createProxy)(String.raw`C:\Users\newli\Desktop\luminav\luminav_icheon\luminav_realtor_real\components\Header.tsx`),{__esModule:p,$$typeof:m}=c;c.default;let f=(0,a.createProxy)(String.raw`C:\Users\newli\Desktop\luminav\luminav_icheon\luminav_realtor_real\components\Header.tsx#default`),x={title:"Luminav Realtor",description:"부동산 매물 정보 사이트"};function h({children:e}){return s.jsx("html",{lang:"ko",children:s.jsx("body",{className:`${i().className} bg-gray-50`,children:(0,s.jsxs)(u,{children:[s.jsx(f,{}),s.jsx("main",{children:e})]})})})}},12255:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>b,dynamic:()=>g});var s=r(19510),n=r(61085),i=r(83493),a=r(68570);let l=(0,a.createProxy)(String.raw`C:\Users\newli\Desktop\luminav\luminav_icheon\luminav_realtor_real\components\ui\KakaoMap.tsx`),{__esModule:o,$$typeof:d}=l;l.default;let u=(0,a.createProxy)(String.raw`C:\Users\newli\Desktop\luminav\luminav_icheon\luminav_realtor_real\components\ui\KakaoMap.tsx#default`),c=(0,a.createProxy)(String.raw`C:\Users\newli\Desktop\luminav\luminav_icheon\luminav_realtor_real\components\ui\FavoriteButton.tsx`),{__esModule:p,$$typeof:m}=c;c.default;let f=(0,a.createProxy)(String.raw`C:\Users\newli\Desktop\luminav\luminav_icheon\luminav_realtor_real\components\ui\FavoriteButton.tsx#default`);var x=r(45609),h=r(90455);let g="force-dynamic";async function v(e){try{let t=await i._.property.findUnique({where:{id:e}});return t||(0,n.notFound)(),t}catch(e){(0,n.notFound)()}}let y=({className:e=""})=>s.jsx("div",{className:`w-full h-full bg-gray-200 flex items-center justify-center ${e}`,children:s.jsx("span",{className:"text-gray-500",children:"Image"})});async function b({params:e}){let t=await v(e.id),r=await (0,x.getServerSession)(h.L),n=!1;return r?.user&&(n=!!await i._.favorite.findUnique({where:{userId_propertyId:{userId:r.user.id,propertyId:e.id}}})),(0,s.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,s.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,s.jsxs)("div",{className:"lg:col-span-2",children:[s.jsx("h1",{className:"text-3xl font-bold mb-4 lg:hidden",children:t.title}),s.jsx("div",{className:"w-full h-96 mb-8 bg-gray-100 rounded-lg",children:s.jsx(y,{className:"rounded-lg"})}),s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"매물 위치"}),s.jsx(u,{latitude:t.latitude,longitude:t.longitude,className:"w-full h-96 rounded-lg"})]}),s.jsx("div",{className:"lg:col-span-1",children:(0,s.jsxs)("div",{className:"sticky top-8 border rounded-lg p-6 shadow-lg",children:[s.jsx("h1",{className:"text-3xl font-bold mb-4 hidden lg:block",children:t.title}),s.jsx("p",{className:"text-gray-600 mb-4",children:t.address}),(0,s.jsxs)("div",{className:"my-6",children:[s.jsx("p",{className:"text-sm text-gray-500",children:t.tradeType}),(0,s.jsxs)("p",{className:"text-4xl font-extrabold text-blue-600",children:[t.price.toLocaleString(),"만원"]})]}),(0,s.jsxs)("div",{className:"space-y-2 text-lg",children:[(0,s.jsxs)("div",{className:"flex justify-between",children:[s.jsx("span",{children:"방 개수"}),(0,s.jsxs)("span",{className:"font-semibold",children:[t.rooms,"개"]})]}),(0,s.jsxs)("div",{className:"flex justify-between",children:[s.jsx("span",{children:"평수"}),(0,s.jsxs)("span",{className:"font-semibold",children:[t.size,"m\xb2"]})]}),(0,s.jsxs)("div",{className:"flex justify-between",children:[s.jsx("span",{children:"종류"}),s.jsx("span",{className:"font-semibold",children:t.propertyType})]})]}),(0,s.jsxs)("div",{className:"mt-6",children:[s.jsx("h3",{className:"font-semibold text-xl mb-2",children:"옵션"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:t.options.map(e=>s.jsx("span",{className:"bg-gray-200 text-gray-800 px-3 py-1 rounded-full text-sm",children:e},e))})]}),(0,s.jsxs)("div",{className:"mt-8",children:[s.jsx("div",{className:"w-full h-12 bg-yellow-300 rounded-lg flex items-center justify-center",children:s.jsx("p",{className:"font-bold",children:"[카카오톡 상담 버튼 예정]"})}),s.jsx(f,{propertyId:t.id,isInitiallyFavorited:n})]})]})})]}),(0,s.jsxs)("div",{className:"mt-12",children:[s.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"상세 설명"}),s.jsx("p",{className:"text-gray-700 leading-relaxed whitespace-pre-wrap",children:t.description})]})]})}},90455:(e,t,r)=>{"use strict";r.d(t,{L:()=>a});var s=r(53797),n=r(13539),i=r(83493);let a={adapter:(0,n.N)(i._),providers:[(0,s.Z)({name:"Credentials",credentials:{email:{label:"Email",type:"text"},password:{label:"Password",type:"password"}},async authorize(e){if(!e?.email||!e?.password)return null;let t=await i._.user.findUnique({where:{email:e.email}});return t&&t.password===e.password?{id:t.id,email:t.email,name:t.name,role:t.role}:null}})],session:{strategy:"jwt"},callbacks:{jwt:async({token:e,user:t})=>(t&&(e.id=t.id,e.role=t.role),e),session:async({session:e,token:t})=>(e.user&&(e.user.id=t.id,e.user.role=t.role),e)},pages:{signIn:"/login"}}},83493:(e,t,r)=>{"use strict";r.d(t,{_:()=>n});let s=require("@prisma/client"),n=global.prisma||new s.PrismaClient({log:["query"]})},61085:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{ReadonlyURLSearchParams:function(){return a},RedirectType:function(){return s.RedirectType},notFound:function(){return n.notFound},permanentRedirect:function(){return s.permanentRedirect},redirect:function(){return s.redirect}});let s=r(83953),n=r(16399);class i extends Error{constructor(){super("Method unavailable on `ReadonlyURLSearchParams`. Read more: https://nextjs.org/docs/app/api-reference/functions/use-search-params#updating-searchparams")}}class a extends URLSearchParams{append(){throw new i}delete(){throw new i}set(){throw new i}sort(){throw new i}}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},16399:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{isNotFoundError:function(){return n},notFound:function(){return s}});let r="NEXT_NOT_FOUND";function s(){let e=Error(r);throw e.digest=r,e}function n(e){return"object"==typeof e&&null!==e&&"digest"in e&&e.digest===r}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},8586:(e,t)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"RedirectStatusCode",{enumerable:!0,get:function(){return r}}),function(e){e[e.SeeOther=303]="SeeOther",e[e.TemporaryRedirect=307]="TemporaryRedirect",e[e.PermanentRedirect=308]="PermanentRedirect"}(r||(r={})),("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},83953:(e,t,r)=>{"use strict";var s;Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{RedirectType:function(){return s},getRedirectError:function(){return o},getRedirectStatusCodeFromError:function(){return f},getRedirectTypeFromError:function(){return m},getURLFromRedirectError:function(){return p},isRedirectError:function(){return c},permanentRedirect:function(){return u},redirect:function(){return d}});let n=r(54580),i=r(72934),a=r(8586),l="NEXT_REDIRECT";function o(e,t,r){void 0===r&&(r=a.RedirectStatusCode.TemporaryRedirect);let s=Error(l);s.digest=l+";"+t+";"+e+";"+r+";";let i=n.requestAsyncStorage.getStore();return i&&(s.mutableCookies=i.mutableCookies),s}function d(e,t){void 0===t&&(t="replace");let r=i.actionAsyncStorage.getStore();throw o(e,t,(null==r?void 0:r.isAction)?a.RedirectStatusCode.SeeOther:a.RedirectStatusCode.TemporaryRedirect)}function u(e,t){void 0===t&&(t="replace");let r=i.actionAsyncStorage.getStore();throw o(e,t,(null==r?void 0:r.isAction)?a.RedirectStatusCode.SeeOther:a.RedirectStatusCode.PermanentRedirect)}function c(e){if("object"!=typeof e||null===e||!("digest"in e)||"string"!=typeof e.digest)return!1;let[t,r,s,n]=e.digest.split(";",4),i=Number(n);return t===l&&("replace"===r||"push"===r)&&"string"==typeof s&&!isNaN(i)&&i in a.RedirectStatusCode}function p(e){return c(e)?e.digest.split(";",3)[2]:null}function m(e){if(!c(e))throw Error("Not a redirect error");return e.digest.split(";",2)[1]}function f(e){if(!c(e))throw Error("Not a redirect error");return Number(e.digest.split(";",4)[3])}(function(e){e.push="push",e.replace="replace"})(s||(s={})),("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},67272:()=>{}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[948,370,184],()=>r(89499));module.exports=s})();